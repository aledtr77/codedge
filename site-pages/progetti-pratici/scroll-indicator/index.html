<!DOCTYPE html>
<html lang="it">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Scroll Indicator - Codedge</title>
  <meta name="description"
    content="Indicatore circolare dello scroll con pulsante Torna su: compare dopo il 10% della pagina e mostra l’avanzamento in tempo reale. Esempio semplice con HTML, CSS e JavaScript, pronto da copiare.">

  <link rel="canonical" href="https://codedge.it/progetti-pratici/scroll-indicator/">

  <!-- ICONS (in public/icons/) -->
  <!-- Favicon / icone in formati diversi per browser e dispositivi -->
  <link rel="icon" href="/icons/codedge-logo-minimal.svg" sizes="any" type="image/svg+xml" />
  <link rel="icon" href="/icons/favicon-32.png" sizes="32x32" type="image/png" />
  <link rel="icon" href="/icons/favicon-16.png" sizes="16x16" type="image/png" />
  <link rel="icon" href="/icons/android-chrome-192.png" sizes="192x192" type="image/png" />
  <link rel="icon" href="/icons/android-chrome-512.png" sizes="512x512" type="image/png" />
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  <!-- Icona per quando l'utente aggiunge il sito alla Home su iOS -->
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png" sizes="180x180" />
  <!-- Manifest PWA: definisce risorse e impostazioni per l'installazione come app -->
  <link rel="manifest" href="/site.webmanifest" />
  <!-- Mask icon per Safari pinned tabs (colore specificato) -->
  <link rel="mask-icon" href="/icons/favicon-mask.svg" color="#00A8FF" />
  <!-- Colore dell'interfaccia del browser su dispositivi compatibili -->
  <meta name="theme-color" content="#00A8FF" />
  <!-- Abilita comportamento da web app su dispositivi mobili -->
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />


</head>

<body>
  <header>
    <nav class="navbar">
      <div class="navbar-container">
        <img src="/icons/codedge-logo.svg" alt="Logo codedge" class="logo" width="80" height="35">
        <h1 class="resize-text">
          <i class="fas fa-chevron-up" aria-hidden="true"></i> Scroll
          Indicator
        </h1>
        <div class="menu-icon">
          <span class="bar"></span> <span class="bar"></span>
          <span class="bar"></span>
        </div>
        <ul id="nav-menu" class="nav-menu"></ul>
      </div>
    </nav>
    <div id="breadcrumb-container" aria-hidden="false"></div>

  </header>
  <h2 class="h2_resize">
    Indicatore di scorrimento della pagina: descrizione e codice
  </h2>
  <main>
    <div id="scrollIndicator" onclick="scrollToTop()">
      <svg class="progress-ring" width="40" height="40">
        <circle class="progress-ring__circle" stroke="#00bfff" stroke-width="3" fill="transparent" r="18" cx="20"
          cy="20"></circle>
      </svg>
      <i class="fas fa-chevron-up arrow"></i>
    </div>
    <section class="content-section">
      <h3>Descrizione generale</h3>
      <p>
        Questa pagina mostra un indicatore circolare dello scroll con un pulsante “Torna su”.
        Il cerchio si riempie in base alla percentuale di pagina scorsa; il pulsante
        resta nascosto quando sei all’inizio e <strong>compare dopo il 10% di scroll</strong>.
        Un clic ti riporta in cima con uno scorrimento fluido.
      </p>
      <h3>Come funziona il codice</h3>
      <h4>1. HTML: Struttura del contenuto</h4>
      <p>Il codice HTML definisce la struttura di base della pagina:</p>
      <ul class="feature-list">
        <li>
          <strong>Header:</strong> Include le meta informazioni per la pagina
          (codifica caratteri e responsività), oltre a un link per caricare la
          libreria Font Awesome, necessaria per visualizzare le icone delle
          frecce.
        </li>
        <li>
          <strong>Main Content:</strong>
          <ul>
            <li>
              Un <code>&lt;div&gt;</code> con
              <code>id="scrollIndicator"</code> rappresenta il pulsante che
              appare in basso a destra della finestra quando si scorre la
              pagina. Dentro questo <code>&lt;div&gt;</code> ci sono:
            </li>
            <li>
              Un elemento SVG che rappresenta il cerchio che agisce come
              indicatore di scroll.
            </li>
            <li>
              Un'icona freccia (presa da Font Awesome) che punta verso l'alto,
              indicando che il pulsante permette di tornare in cima.
            </li>
          </ul>
        </li>
        <li>
          <strong>Script JavaScript:</strong> Nella parte finale del corpo
          della pagina troviamo un blocco <code>&lt;script&gt;</code> che
          controlla la logica di interazione e il comportamento dello scroll
          indicator.
        </li>
      </ul>
      <h4>2. CSS: Stile visivo</h4>
      <p>
        Il CSS gestisce la formattazione e lo stile visivo del pulsante e del
        contenuto:
      </p>
      <ul class="feature-list">
        <li>
          Il pulsante (<code>#scrollIndicator</code>) è un cerchio di 40px con sfondo e ombra, posizionato in basso a
          destra via <code>position: fixed</code>.
        </li>
        <li>
          Stato base nascosto: il CSS imposta <code>opacity: 0</code> e <code>pointer-events: none</code> su
          <code>#scrollIndicator</code>. Quando il JavaScript aggiunge la classe <code>.is-visible</code> (dopo il 10%
          di scroll), il bottone diventa visibile.
        </li>
        <li>
          L’icona freccia (classe <code>.arrow</code>) è centrata tramite flexbox.
        </li>
        <li>
          Il cerchio SVG (<code>.progress-ring__circle</code>) usa
          <code>stroke-dasharray</code>/<code>stroke-dashoffset</code> per mostrare l’avanzamento in modo fluido.
        </li>
      </ul>

      <h4>3. JavaScript: Logica di funzionamento</h4>
      <p>
        La logica principale per il funzionamento del pulsante di ritorno e
        del cerchio di avanzamento è scritta in JavaScript:
      </p>
      <ul class="feature-list">
        <li>
          <strong>Calcolo della circonferenza:</strong> dal raggio (<code>r=18</code>) del cerchio SVG si ottiene
          <code>circumference = 2 * Math.PI * r</code>. Questo valore è usato per impostare
          <code>stroke-dasharray</code> e per aggiornare <code>stroke-dashoffset</code>.
        </li>
        <li>
          <strong>Percentuale di scroll:</strong> ad ogni scroll (ottimizzato con <code>requestAnimationFrame</code>) si
          calcola la percentuale come
          <code>(scrollTop / (scrollHeight - clientHeight)) * 100</code>.
        </li>
        <li>
          <strong>Avanzamento cerchio:</strong> dato <em>percent</em>, l’offset viene aggiornato a
          <code>circumference - (percent / 100) * circumference</code>.
        </li>
        <li>
          <strong>Visibilità dinamica del pulsante:</strong> il bottone compare solo quando la percentuale supera il
          <strong>10%</strong> (soglia configurabile). In pratica:
          <code>indicator.classList.toggle('is-visible', percent &gt; 10);</code>
        </li>
        <li>
          <strong>Ritorno in cima:</strong> il click esegue uno scroll fluido con
          <code>window.scrollTo({ top: 0, behavior: 'smooth' })</code>.
        </li>
      </ul>

      <h4>Funzionalità principali</h4>
      <ul class="feature-list">
        <li>
          <strong>Indicatore di progresso:</strong> il cerchio mostra in tempo reale la percentuale di pagina scorsa.
        </li>
        <li>
          <strong>Pulsante di ritorno in cima (non invasivo):</strong> resta nascosto all’inizio e <strong>appare dopo
            il 10% di scroll</strong>, per non distrarre nelle prime righe della pagina.
        </li>
        <li>
          <strong>Design responsivo e animazioni fluide:</strong> transizioni morbide e comportamento coerente su
          diverse altezze di viewport.
        </li>
      </ul>

      <h4>Possibili varianti</h4>
      <ul class="feature-list">
        <li>
          <strong>Personalizzazione del pulsante:</strong>
          puoi aggiungere effetti hover (colore di sfondo/ombra/icone), cambiare dimensioni o il colore della traccia
          dell’SVG per adattarlo al tuo tema.
        </li>
        <li>
          <strong>Visibilità dinamica (soglia personalizzabile):</strong>
          il pulsante può diventare visibile solo dopo una certa quantità di scroll, così non distrae in cima alla
          pagina. Alcune idee:
          <ol>
            <li>
              <strong>Valore fisso (px)</strong>
              <p>Usa una soglia fissa in pixel (es. 120px). Quando l'utente scorre oltre quel valore il pulsante viene
                mostrato. Metodo semplice, prevedibile e adatto a layout che non cambiano molto fra device.</p>
            </li>

            <li>
              <strong>In base all'altezza della viewport</strong>
              <p>Calcola la soglia come percentuale dell'altezza della finestra (es. 25% di window.innerHeight). Utile
                quando vuoi che il comportamento sia proporzionale alla dimensione dello schermo.</p>
            </li>

            <li>
              <strong>In base alla percentuale di pagina scrollata</strong>
              <p>Mostra il pulsante quando l'utente ha scrollato una certa percentuale della pagina (es. dopo il 10% del
                documento). Funziona bene su pagine molto lunghe o con contenuti dinamici.</p>
            </li>

          </ol>
        </li>
      </ul>

      <h4>Conclusioni</h4>
      <p>
        Questa soluzione è semplice ma efficace e offre all'utente
        un'esperienza più interattiva e visivamente piacevole quando naviga in
        pagine con molto contenuto.
      </p>
      <h4><i class="fas fa-download"></i> Download codice</h4>
      <p>
        Trovate il link con il codice completo della descrizione dettagliata
        riga per riga nella sezione dedicata
        <a href="/risorse/snippet-library/#scroll-indicator">UI Components.</a>
      </p>
    </section>
  </main>

  <!-- ENTRY MODULE (unico)
       Questo script è l'entry point JS della pagina: importa componenti, monta il nav, il breadcrumb e aggiunge event listener.
       type="module" abilita import/export e execution in strict mode. Non cancellarlo se vuoi che i loader JS funzionino. -->
  <script type="module" src="/src/pages/progetti-pratici/scroll-indicator/main.js"></script>

</body>

</html>