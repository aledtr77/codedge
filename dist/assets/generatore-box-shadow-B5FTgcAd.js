let _=!1;function S(){if(_)return;_=!0;const n={horizontal:document.getElementById("horizontal"),vertical:document.getElementById("vertical"),blur:document.getElementById("blur"),spread:document.getElementById("spread"),color:document.getElementById("color"),opacity:document.getElementById("opacity")},a=document.getElementById("preview-box"),o=document.getElementById("css-code"),m=document.getElementById("outer-container"),i=document.getElementById("background-color"),c=document.getElementById("object-color"),y=document.getElementById("background-color-preview"),b=document.getElementById("object-color-preview");function f(e,t="CSS copiato!",u=2e3){if(!e)return;const r=e.querySelector(".tooltip");r&&(r.textContent=t,r.style.visibility="visible",r.style.opacity="1",e.__tooltipTimer&&clearTimeout(e.__tooltipTimer),e.__tooltipTimer=setTimeout(()=>$(e),u))}function $(e){if(!e)return;const t=e.querySelector(".tooltip");t&&(t.style.visibility="hidden",t.style.opacity="0",e.__tooltipTimer&&(clearTimeout(e.__tooltipTimer),e.__tooltipTimer=null))}function C(e){const t=(e||"").replace("#","");return t.length!==6?null:{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16)}}function v(e){return/^#[0-9A-F]{6}$/i.test(e||"")}function g(){var r,B,w,E,T,h;if(!a||!o)return;const e={horizontal:Number(((r=n.horizontal)==null?void 0:r.value)??0),vertical:Number(((B=n.vertical)==null?void 0:B.value)??0),blur:Number(((w=n.blur)==null?void 0:w.value)??0),spread:Number(((E=n.spread)==null?void 0:E.value)??0),color:((T=n.color)==null?void 0:T.value)??"#000000",opacity:Number(((h=n.opacity)==null?void 0:h.value)??20)};Object.entries(e).forEach(([p,I])=>{const d=document.getElementById(`${p}-value`);d&&(p==="color"?d.textContent=e.color:p==="opacity"?d.textContent=`${e.opacity}%`:d.textContent=`${I}px`)});const t=C(e.color)??{r:0,g:0,b:0},u=`${e.horizontal}px ${e.vertical}px ${e.blur}px ${e.spread}px rgba(${t.r},${t.g},${t.b},${e.opacity/100})`;a.style.boxShadow=u,o.textContent=`box-shadow: ${u};`}function x(e){if(!o)return;const t=o.textContent||"";navigator.clipboard.writeText(t).then(()=>f(e,"CSS copiato!",1200),()=>f(e,"Errore copia",1200))}Object.values(n).forEach(e=>{e&&e.addEventListener("input",g)}),window.copyToClipboard=function(e){const t=(e==null?void 0:e.closest(".tooltip-container"))||(e==null?void 0:e.parentElement)||(o==null?void 0:o.parentElement)||o;x(t)};const l=document.querySelector(".tooltip-container .button-simple");l&&!l.hasAttribute("data-bound")&&(l.setAttribute("data-bound","true"),l.addEventListener("click",e=>{const t=l.closest(".tooltip-container")||l.parentElement;x(t)}));function s(){const e=i==null?void 0:i.value,t=c==null?void 0:c.value;v(e)&&(m&&(m.style.backgroundColor=e),y&&(y.style.backgroundColor=e)),v(t)&&(a&&(a.style.backgroundColor=t),b&&(b.style.backgroundColor=t))}i==null||i.addEventListener("input",s),c==null||c.addEventListener("input",s),g(),s()}export{S as initBoxShadowGenerator};
